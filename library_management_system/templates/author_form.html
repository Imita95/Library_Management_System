{% extends 'base.html' %}
{% block body %}
<div class="card">
  {% if author %}
    <h2>Edit Author</h2>
  {% elif confirm_delete %}
    <h2>Confirm Delete Author</h2>
  {% else %}
    <h2>Add Author</h2>
  {% endif %}

  {% if confirm_delete %}
    <p>Are you sure you want to delete <strong>{{ author.name }}</strong>?</p>
    <form method="post">{% csrf_token %}
      <button type="submit" class="primary">Yes, delete</button>
      <a href="{% url 'library_app:author_list' %}"><button type="button" class="secondary">Cancel</button></a>
    </form>
  {% else %}
    <form method="post">{% csrf_token %}
      <label>Name</label>
      <input type="text" name="name" value="{{ author.name|default:'' }}" required>

      <label>Email</label>
      <input type="email" name="email" value="{{ author.email|default:'' }}">

      <label>Biography</label>
      <textarea name="biography">{{ author.biography|default:'' }}</textarea>

      <button type="submit" class="primary">{% if author %}Update{% else %}Create{% endif %}</button>
      <a href="{% url 'library_app:author_list' %}"><button type="button" class="secondary">Back</button></a>
    </form>
  {% endif %}
</div>
{% endblock %}
